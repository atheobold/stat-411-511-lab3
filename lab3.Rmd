---
title: "Lab 3: Data Viz & Data Wrangling pt. 1"
author: "Your group member names here (include last names!)"
date: "September 11" 
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Motivation: What's going on in this graph? 

- Click on the link to the New York Times graph below. 

https://www.nytimes.com/2019/02/07/learning/whats-going-on-in-this-graph-feb-13-2019.html  

- Answer the following questions. The questions are intended to build on one 
another, so try to answer them in order!   

__1. What do you notice?__  

__2. What do you wonder?__  

__3. What are you curious about that comes from what you notice in the graph?__  

__4. Write a catchy headline that captures the graph’s main idea. If your headline makes a claim, tell us what you noticed that supports your claim.__ 


## Data for Today's Lab  

The SIPRI (Stockholm International Peace Research Institute) Military Expenditure
Database is an open source dataset with contains consistent time series on the 
military spending of countries for the period 1949–2018. The database is updated
annually, which may include updates to data for any of the years included in the
database.

Military expenditure in local currency at current prices is presented according
to both the financial year of each country and according to calendar year, 
calculated on the assumption that, where financial years do not correspond to 
calendar years, spending is distributed evenly through the year. 
Figures in constant (2017) and current US $, as a share of GDP and per capita 
are presented according to calendar year. 

The availability of data varies considerably by country, but for a majority of 
countries that were independent at the time, data is available from at least the
late 1950s. Estimates for regional military expenditure have been extended 
backwards depending on availability of data for countries in the region, but no 
estimates for total world military expenditure are available before 1988 due to 
the lack of data for the Soviet Union.

SIPRI military expenditure data is based on open sources only.

__1. Use the code below to load the data into your work space and inspect it to answer the following questions:__   

* __How many observations (rows) do the data have?__  
<!-- Your answer here!  -->



* __How many variables (columns) do the data have?__ 
<!-- Your answer here!  -->



* __Last week the variables that contained numbers were coded as doubles/numeric. 
Why do you believe all of the variables are coded as characters?__ 
<!-- Your answer here!  -->




```{r, message = FALSE}
# The dataset is an excel file, so we need to use the read_xlsx function 
# which lives in the readxl package

library(readxl) # loading in readxl package
library(tidyverse) # loading in tidyverse package 
# contains dpylr, tidyr, and ggplot

military <- read_xlsx("data/gov_spending_per_capita.xlsx")

glimpse(military)

```

</br>
</br>

__2. What are the four ways that missing or unavailable values were coded in this dataset?__ 
<!-- Your answer here!  -->


</br>
</br>

Let's recode all of these missing values into NA responses.  

```{r, warning = FALSE}
military_clean <- military %>% 
                    select(-Country, -Notes) %>% 
                    # removes the Country and Notes variables from the dataset 
                    mutate_if(is.character, as.numeric) %>% 
                    # changes the variables that are characters to numeric  
                    mutate(Country = military$Country) %>% 
                    # adds the Country variable back in  
                    select(Country, everything())
                    # reorders the variables so Country is first 
```

</br>
</br>
</br>


Below is a list of countries in the dataset:

```{r, echo = FALSE}
library(DT)

military_clean %>% 
  select(Country, `1988`:`1990`) %>%
  distinct() %>%
  datatable()
```







